## salloc 
salloc申请资源

| **参数**                       | **说明**                                                                     |
| ---------------------------- | -------------------------------------------------------------------------- |
| `--job­name=<name>`          | 作业名称                                                                       |
| `-p` 或`--partition=<p>`      | 分区                                                                         |
| `--nodes=<n>` 或 `-N`         | 作业需要的节点数。如果没有指定，默认分配足够的节点来满足`--ntasks=<n>`和`--cpus-per-task=<ncpus>`参数的要求。 |
| `--ntasks-per-node=<ntasks>` | 设定每个节点上的任务数。要和 `--nodes=<n>` 同时配合使用。                                       |
| `--ntasks=<n>` 或 `-n`        | 设定最多启动的任务数。 cpu数量                                                          |
| `--cpus-per-task=<ncpus>`    | 设定每个任务所需要的CPU核数。如果没有指定，默认为每个任务分配一个CPU核。一般运行OpenMP等多线程程序时需要，普通MPI程序不需要。     |
| `--gres=gpu:n`               | 设定需要使用的GPU卡数量                                                              |
| `-o`                         | 标准输出路径                                                                     |
| `-e`                         | 标准错误输出                                                                     |

## squeue
squque查看现在的任务队列

| **关键词**            | **含义**                           |
| ------------------ | -------------------------------- |
| `JOBID`            | 作业的id号，每个成功提交的任务都会有唯一的id         |
| `PARTITION`        | 分区名                              |
| `NAME`             | 作业名称，默认为提交脚本的名称                  |
| `USER`             | 用户名，提交该作业的用户名                    |
| `ST`               | 作业状态：`PD`排队；`R`运行；`S`挂起；`CG`正在退出 |
| `TIME`             | 作业运行时间                           |
| `NODES`            | 作业占节点数                           |
| `NODELIST(REASON)` | 作业所占节点列表，如果是排队状态的任务，则会给出排队原因     |
## sinfo
sinfo  查看节点与分区状态
```bash
$ sinfo
PARTITION AVAIL  TIMELIMIT  NODES  STATE NODELIST
cpu*         up   infinite      1  down* n144
cpu*         up   infinite    168  alloc n[3-143,145-171]
```

| **关键词**     | **含义**                                                                                     |
| ----------- | ------------------------------------------------------------------------------------------ |
| `PARTITION` | 分区名，对节点的逻辑分组。不同的分区会设置不同权限、资源限制等。                                                           |
| `AVAIL`     | 可用状态：`up` 可用；`down` 不可用                                                                    |
| `TIMELIMIT` | 该分区的作业最大运行时长限制, `30:00` 表示30分钟，如果是`2-00:00:00`表示2天，如果是`infinite`表示不限时间                     |
| `NODES`     | 节点数量                                                                                       |
| `STATE`     | 状态：`drain`: 排空状态，表示该类节点不再分配到其他；`idle`: 空闲状态；`alloc`: 被分配状态; `mix`:部分被占用，但是仍有可用资源； `down`停机 |
| `NODELIST`  | 节点列表                                                                                       |
